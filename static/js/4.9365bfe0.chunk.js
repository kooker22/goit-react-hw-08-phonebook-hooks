(this["webpackJsonpgoit-react-hw-08-phonebook-hooks"]=this["webpackJsonpgoit-react-hw-08-phonebook-hooks"]||[]).push([[4],{119:function(e,t,n){e.exports={button:"ContactListItem_button__Y5zHc",item:"ContactListItem_item__2B9-P",icon:"ContactListItem_icon__1fMol",loading:"ContactListItem_loading__3jprT"}},120:function(e,t,n){e.exports={contactList:"ContactList_contactList__bd195"}},160:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var a=n(0),r=n.n(a),c=n(6),o=n(100),i=n(117),l=n(161),u=n(155),m=n(158),s=n(156),f=n(149),b=n(153),p=n(14),g=function(e){return e.phonebook.contacts},d=function(e){return e.phonebook.filter},h={getContacts:g,getFilter:d,getLoading:function(e){return e.phonebook.loading},getVisibleContacts:Object(p.a)([g,d],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},v=n(16),O=n.n(v),j=n(23),E=n(18),y=n.n(E),C=n(9);y.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";n(116);function x(e){e.onSubmit;var t=Object(c.b)(),n=Object(a.useState)(""),p=Object(o.a)(n,2),g=p[0],d=p[1],v=Object(a.useState)(""),O=Object(o.a)(v,2),j=O[0],E=O[1],x={name:g,number:j},w=Object(c.c)(h.getContacts),k=Object(a.useCallback)((function(e){var t=e.target,n=t.name,a=t.value;"name"===n?d(a):"number"===n&&E(a)}),[]),_=function(){d(""),E("")},L=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement("div",{className:L.paper},r.a.createElement(s.a,{component:"h1",variant:"h5"},"Fill all fields to add contact *"),r.a.createElement("form",{onSubmit:function(e){var n=w.some((function(e){return e.name===g}));e.preventDefault(),g&&""!==j?n?Object(i.b)("This contact already exist"):(t(function(e){var t=e.name,n=e.number;return function(e){var a={name:t,number:n};e(Object(C.b)()),y.a.post("/contacts",a).then((function(t){var n=t.data;return e(Object(C.c)(n))})).catch((function(t){return e(Object(C.a)(t.message))}))}}(x)),_()):Object(i.b)("enter name and number")},className:L.form,autoComplete:"off",noValidate:!0},r.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Name",name:"name",value:g,onChange:k,autoComplete:"off",autoFocus:!0}),r.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"number",value:j,onChange:k,label:"Number",type:"number",autoComplete:"current-password"}),r.a.createElement(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:L.submit},"Add contact"),r.a.createElement(i.a,null))))}var w=n(119),k=n.n(w);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=function(e){var t=e.svgRef,n=e.title,a=L(e,["svgRef","title"]);return r.a.createElement("svg",_({width:20,height:20,viewBox:"0 0 32 32",ref:t},a),n?r.a.createElement("title",null,n):null,r.a.createElement("circle",{style:{fill:"transparent"},cx:16,cy:16,r:14}),r.a.createElement("g",{transform:"matrix(0.70710678,0.70710678,-0.70710678,0.70710678,16,-6.627417)"},r.a.createElement("rect",{style:{fill:"#f00"},width:4,height:20,x:-18,y:6,transform:"matrix(0,-1,1,0,0,0)"}),r.a.createElement("rect",{style:{fill:"#f00"},width:4,height:20,x:14,y:6})))},F=r.a.forwardRef((function(e,t){return r.a.createElement(N,_({svgRef:t},e))}));n.p;function I(){var e=Object(c.b)(),t=Object(c.c)(h.getVisibleContacts),n=Object(c.c)(h.getLoading);return r.a.createElement(r.a.Fragment,null,t.map((function(t){var n=t.id,a=t.name,c=t.number;return r.a.createElement("li",{className:k.a.item,key:n},a,": ",c,r.a.createElement("button",{type:"button",className:k.a.button,id:n,onClick:function(){return e(function(e){return function(t){t(Object(C.f)()),y.a.delete("/contacts/".concat(e)).then((function(){return t(Object(C.g)(e))})).catch((function(e){return t(Object(C.e)(e.message))}))}}(n))}},r.a.createElement(F,{className:k.a.icon})))})),n&&r.a.createElement("h1",{className:k.a.loading},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."))}var S=n(120),T=n.n(S),W=function(){return r.a.createElement("ul",{className:T.a.contactList},r.a.createElement(I,null))};function R(){var e=Object(c.b)(),t=Object(c.c)(h.getFilter),n=Object(c.c)(h.getContacts),a=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));return n.length>2&&r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Contact Filter",value:t,onChange:function(t){return e(Object(C.d)(t.target.value))},autoFocus:!0})))}function P(){var e=Object(c.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(C.i)()),e.prev=1,e.next=4,y.a.get("/contacts");case 4:n=e.sent,a=n.data,t(Object(C.j)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Object(C.h)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(x,null),r.a.createElement(R,null)),r.a.createElement(W,null)))}}}]);
//# sourceMappingURL=4.9365bfe0.chunk.js.map