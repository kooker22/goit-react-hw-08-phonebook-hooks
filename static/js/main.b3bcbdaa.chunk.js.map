{"version":3,"sources":["components/AuthNav/AuthNav.module.css","components/UserMenu/UserMenu.module.css","components/NavBar/NavBar.module.css","components/UserMenu/default-avatar.png","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/phonebook/phonebook-reducer.js","redux/store.js","components/NavBar/NavBar.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js","redux/phonebook/phonebook-actions.js"],"names":["module","exports","registerRequest","createAction","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSucces","getCurrentUserError","initialUserState","name","email","user","createReducer","authActions","_","payload","__","token","setError","error","isAuthenticated","combineReducers","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","post","response","data","message","logOut","logIn","getCurrentUser","getState","persistedToken","auth","get","getIsAuthenticated","state","getUserName","contacts","fetchContactsSuccess","addContactSuccess","deleteContactSuccess","filter","id","changeFilter","loading","fetchContactsRequest","fetchContactsError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phonebook","phonebookReducer","devTools","process","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","Navigation","useSelector","authSelectors","to","exact","className","styles","link","UserMenu","useDispatch","onLogout","useCallback","authOperations","container","src","defaultAvatar","alt","width","avatar","type","btn","onClick","AuthNav","menu","AppBar","header","PrivateRoute","redirectTo","children","routeProps","isLoggedIn","PublicRoute","restricted","ContactsPage","lazy","Register","LogIn","Phonebook","useEffect","fallback","path","ReactDOM","render","StrictMode","document","getElementById","value"],"mappings":"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","file":"static/js/main.b3bcbdaa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"AuthNav_menu__clM_q\",\"link\":\"AuthNav_link__1Wz0w\",\"btn\":\"AuthNav_btn__240hg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__TEyx0\",\"avatar\":\"UserMenu_avatar__1Q5QW\",\"name\":\"UserMenu_name__2D4fz\",\"link\":\"UserMenu_link__e4TVq\",\"btn\":\"UserMenu_btn__ELgVJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"NavBar_link__3PdIS\"};","module.exports = __webpack_public_path__ + \"static/media/default-avatar.ccafcf34.png\";","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSucces = createAction('auth/getCurrentUserSucces');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\n\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSucces,\r\n  getCurrentUserError,\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: (_, __) => initialUserState,\r\n  [authActions.getCurrentUserSucces]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\nconst setError = (_, { payload }) => payload;\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: setError,\r\n  [authActions.loginError]: setError,\r\n  [authActions.logoutError]: setError,\r\n  [authActions.getCurrentUserError]: setError,\r\n});\r\nconst isAuthenticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSucces]: () => true,\r\n  [authActions.registerError]: () => false,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  isAuthenticated,\r\n  error,\r\n});\r\n","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com/';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n  try {\r\n    const response = await axios.post('/users/signup', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.registerSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.registerError(error.message));\r\n  }\r\n};\r\n\r\nconst logIn = credentials => async dispatch => {\r\n  dispatch(authActions.loginRequest);\r\n  try {\r\n    const response = await axios.post('users/login', credentials);\r\n    token.set(response.data.token);\r\n    dispatch(authActions.loginSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\n  dispatch(authActions.loginRequest);\r\n  try {\r\n    await axios.post('users/logout');\r\n    token.unset();\r\n    dispatch(authActions.logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n    dispatch(authActions.getCurrentUserSucces(response.data));\r\n  } catch (error) {\r\n    dispatch(authActions.getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default { register, logOut, logIn, getCurrentUser };\r\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\nexport default { getIsAuthenticated, getUserName };\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactSuccess,\r\n  addContactRequest,\r\n  addContactError,\r\n  deleteContactSuccess,\r\n  deleteContactRequest,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  changeFilter,\r\n} from './phonebook-actions';\r\n\r\n\r\nconst contacts = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\nconst error = createReducer(null, {});\r\nexport default combineReducers({\r\n  contacts,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport phonebookReducer from './phonebook/phonebook-reducer';\r\nimport { authReducer } from './auth';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    phonebook: phonebookReducer,\r\n  },\r\n  devTools: process.env.NODE_ENV === 'development',\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\nconst persistor = persistStore(store);\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport styles from './NavBar.module.css';\r\n\r\nexport default function Navigation() {\r\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\r\n  return (\r\n    <nav>\r\n      {isAuthenticated && (\r\n        <NavLink to=\"/contacts\" exact className={styles.link}>\r\n          Phonebook\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from './default-avatar.png';\r\nimport styles from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n  const onLogout = useCallback(() => {\r\n    dispatch(authOperations.logOut());\r\n  }, [dispatch]);\r\n  return (\r\n    <div className={styles.container}>\r\n      <img src={defaultAvatar} alt=\"\" width=\"32\" className={styles.avatar} />\r\n      <span className={styles.name}>Welcome, {name}</span>\r\n      <button type=\"button\" className={styles.btn} onClick={onLogout}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './AuthNav.module.css';\r\n\r\nconst AuthNav = () => (\r\n  <div className={styles.menu}>\r\n    <button type=\"button\" className={styles.btn}>\r\n      <NavLink to=\"/register\" exact className={styles.link}>\r\n        Sign Up\r\n      </NavLink>\r\n    </button>\r\n    <button type=\"button\" className={styles.btn}>\r\n      <NavLink to=\"/login\" exact className={styles.link}>\r\n        Log in\r\n      </NavLink>\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Navigation from '../NavBar/NavBar';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport styles from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated)\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nexport default function PrivateRoute({\r\n  isAuthenticated,\r\n  redirectTo,\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n  return (\r\n    <Route {...routeProps}>\r\n            {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n        </Route>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nexport default function PublicRoute({\r\n  isAuthenticated,\r\n  redirectTo,\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n  return (\r\n      <Route {...routeProps}>\r\n          {isLoggedIn && routeProps.restricted ? (\r\n              <Redirect to={redirectTo} />\r\n          ) : (\r\n              children\r\n          )}\r\n      </Route>\r\n  );\r\n}\r\n","//Core\nimport React, { useEffect,  Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\n\n//Components\n\nimport AppBar from './components/AppBar/AppBar';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nimport { authOperations } from './redux/auth';\nimport { useDispatch } from 'react-redux';\nconst ContactsPage = lazy(() => import('./PhonebookPages/ContactsPage'));\nconst Register = lazy(() => import('./PhonebookPages/RegisterPage'));\nconst LogIn = lazy(() => import('./PhonebookPages/LoginPage'));\nexport default function Phonebook() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n    \n  }, [dispatch]);\n\n  return (\n    <>\n      <AppBar />\n      <Suspense fallback={<p>Loading... </p>}>\n        <Switch>\n          <PrivateRoute\n            exact\n            path=\"/contacts\"\n            redirectTo=\"/login\"\n          > \n          <ContactsPage/>\n            </PrivateRoute>\n          <PublicRoute\n            path=\"/register\"\n            restricted\n            redirectTo=\"/\"\n            \n          >\n            <Register/>\n          </PublicRoute>\n          <PublicRoute\n            restricted\n            redirectTo=\"/contacts\"\n            path=\"/login\"\n       \n          >\n            <LogIn/>\n          </PublicRoute>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Phonebook from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <Phonebook />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nexport const fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactError = createAction('contacts/addContactError')\r\n\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactError = createAction('contacts/deleteContactError')\r\n\r\nexport const changeFilter = createAction('phonebook/changeFilter', value => ({\r\n  payload: value,\r\n}));\r\n"],"sourceRoot":""}